<div class="jt-app jt-card jt-grid" style="gap:12px;">
  <div class="jt-title">Class Assigner</div>

  <div class="jt-row" style="gap:8px;">
    <input class="jt-input" type="search" name="search" placeholder="Filter class listsâ€¦" />
    <span class="jt-muted">Use the search to filter all dropdowns.</span>
  </div>

  <!-- BASE -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-title" style="font-size:14px;">Base Class</div>
    <div class="jt-row">
      <select class="jt-select class-select" name="baseSel">
        <optgroup label="Base">
          {{{baseOptions}}}
        </optgroup>
      </select>
      <input class="jt-input" type="number" name="baseLvl" min="1" placeholder="Level" />
    </div>
  </section>

  <!-- MINION -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-row" style="justify-content:space-between; align-items:center;">
      <div class="jt-title" style="font-size:14px;">Minion Class</div>
      <label class="jt-muted"><input type="checkbox" name="useMinion" /> Use minion</label>
    </div>
    <div class="jt-row">
      <select class="jt-select class-select" name="minionSel" disabled>
        <optgroup label="Minion">
          {{{minionOptions}}}
        </optgroup>
      </select>
      <input class="jt-input" type="number" name="minionLvl" min="1" placeholder="Level" disabled />
    </div>
  </section>

  <!-- PRESTIGE -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-row" style="justify-content:space-between; align-items:center;">
      <div class="jt-title" style="font-size:14px;">Prestige Class</div>
      <label class="jt-muted"><input type="checkbox" name="usePrestige" /> Use prestige</label>
    </div>
    <div class="jt-row">
      <select class="jt-select class-select" name="prestigeSel" disabled>
        <optgroup label="Prestige">
          {{{prestigeOptions}}}
        </optgroup>
      </select>
      <input class="jt-input" type="number" name="prestigeLvl" min="1" placeholder="Level" disabled />
    </div>
  </section>

  <!-- RACIAL HD -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-row" style="justify-content:space-between; align-items:center;">
      <div class="jt-title" style="font-size:14px;">Racial HD</div>
      <label class="jt-muted"><input type="checkbox" name="useRacial" /> Use racial HD</label>
    </div>
    <div class="jt-row">
      <select class="jt-select class-select" name="racialSel" disabled>
        <optgroup label="Racial">
          {{{racialOptions}}}
        </optgroup>
      </select>
      <input class="jt-input" type="number" name="racialLvl" min="1" placeholder="Level" disabled />
    </div>
  </section>

  <!-- EXTRA -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-title" style="font-size:14px;">Additional Classes (up to 4)</div>
    <div id="jt-extra-rows">
      {{{extraRows}}}
    </div>
  </section>

  <!-- EXISTING + CAP / SUMMARY -->
  <section class="jt-card jt-grid" style="gap:8px;">
    <div class="jt-row" style="gap:16px; align-items:center;">
      <label class="jt-muted"><input type="checkbox" name="wipeFirst" /> Remove existing classes first</label>
      <label class="jt-muted"><input type="checkbox" name="enforceCap" checked /> Enforce total level cap</label>
      <span id="jt-level-summary" class="mono" style="margin-left:auto;">
        Existing: <b id="jt-existing-count">0</b> | New: <b id="jt-new-count">0</b> |
        Total: <b id="jt-total-count">0</b> / Cap {{levelCap}}
      </span>
    </div>

    <div id="jt-existing-classes" class="jt-muted" style="font-size:12px;">
      <!-- populated by JS -->
    </div>
  </section>

  <div class="jt-row" style="justify-content:flex-end;">
    <button type="button" class="jt-button" data-action="assign">Assign to Target Actor</button>
  </div>

  {{#if _emptyMessage}}
    <div class="jt-card" data-empty-state>
      <div class="jt-title">Nothing to show</div>
      <div class="jt-muted">{{_emptyMessage}}</div>
    </div>
  {{/if}}
</div>
